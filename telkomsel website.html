<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyTelkomsel: The Flywheel Strategy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals with Red Accent -->
    <!-- Application Structure Plan: A single-page dashboard structure with a sticky side navigation. The user flow is designed to be non-linear, allowing exploration of key strategic pillars: 1) The Core Challenge (visualizing the engagement gap), 2) Competitive Landscape (interactive comparison), 3) The Flywheel Solution (a dynamic diagram explaining the core strategy), 4) Implementation Roadmap (an interactive timeline), and 5) Financial & KPI Dashboard (interactive charts and metrics). This structure was chosen to break down the dense report into digestible, interactive modules, making the complex strategy more accessible and engaging than a linear document. It allows stakeholders to quickly grasp the problem, solution, and projected outcomes. -->
    <!-- Visualization & Content Choices: 
        - MAU/DAU Growth: Report Info -> Goal: Show the growing gap between MAU and DAU. Viz: Dual-axis line and bar chart (Chart.js). Interaction: Hover for details. Justification: Clearly illustrates the core problem of stagnant engagement despite user growth.
        - User Segmentation: Report Info -> Goal: Display the breakdown of consistent vs. inconsistent users. Viz: Donut chart (Chart.js). Interaction: Hover to see percentages and absolute numbers. Justification: Provides a clear, at-a-glance view of the user retention problem.
        - Competitive Analysis: Report Info -> Goal: Compare MyTelkomsel's loyalty program against competitors. Viz: Interactive HTML table. Interaction: Clicking on a competitor highlights their column and displays a summary. Justification: Allows for direct, feature-by-feature comparison in a structured way.
        - Flywheel Diagram: Report Info -> Goal: Explain the self-reinforcing strategic model. Viz: HTML/CSS/JS animated diagram. Interaction: Hovering over each component reveals descriptive text. Justification: A dynamic visual is more effective at explaining a cyclical process than static text.
        - Implementation Timeline: Report Info -> Goal: Show the phased 12-month rollout plan. Viz: Interactive horizontal timeline (HTML/CSS/JS). Interaction: Clicking on a phase highlights it and shows key activities. Justification: Makes the project plan easy to follow and understand milestones.
        - Financial Projections: Report Info -> Goal: Visualize projected revenue growth and ROI. Viz: Bar chart (Chart.js). Interaction: Tooltips show exact figures for investment vs. incremental revenue. Justification: Clearly communicates the financial viability and high potential return of the strategy.
        - KPI Dashboard: Report Info -> Goal: Track success metrics. Viz: Dynamic KPI cards (HTML/CSS/JS). Interaction: Buttons to switch between different KPI categories. Justification: Mimics a real-world business dashboard for clear performance tracking. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9F7F3;
            color: #4A4A4A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-link {
            transition: all 0.3s ease;
        }
        .nav-link.active {
            background-color: #EF4444;
            color: #FFFFFF;
            font-weight: 600;
        }
        .nav-link:not(.active):hover {
            background-color: #FEE2E2;
            color: #EF4444;
        }
        .flywheel-segment {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .flywheel-segment:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .timeline-item.active .timeline-dot {
            background-color: #EF4444;
            transform: scale(1.5);
        }
        .timeline-item.active .timeline-content {
            border-color: #EF4444;
        }
        .kpi-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>
<body class="flex">

    <nav id="sidebar" class="w-64 h-screen bg-white shadow-lg p-6 fixed top-0 left-0 flex flex-col space-y-4">
        <div class="text-center mb-8">
            <h1 class="text-xl font-bold text-gray-800">MyTelkomsel</h1>
            <p class="text-sm text-red-600 font-semibold">The Flywheel Strategy</p>
        </div>
        <a href="#challenge" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>üéØ</span>
            <span>The Core Challenge</span>
        </a>
        <a href="#competition" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>‚öîÔ∏è</span>
            <span>Competitive Landscape</span>
        </a>
        <a href="#solution" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>üí°</span>
            <span>The Flywheel Solution</span>
        </a>
        <a href="#roadmap" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>üó∫Ô∏è</span>
            <span>Implementation Roadmap</span>
        </a>
        <a href="#financials" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>üí∞</span>
            <span>Financial Impact</span>
        </a>
        <a href="#kpis" class="nav-link p-3 rounded-lg text-gray-700 font-medium flex items-center space-x-3">
            <span>üìä</span>
            <span>KPI Dashboard</span>
        </a>
    </nav>

    <main class="ml-64 w-full p-8 md:p-12 overflow-y-auto">
        <section id="challenge" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">The Core Challenge: An Engagement Plateau</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">MyTelkomsel has achieved impressive scale with over 70 million monthly active users (MAU), but faces a critical paradox: user growth isn't translating into daily engagement. The app remains a transactional utility, not a daily habit. This section visualizes the core problem of stagnant daily active users (DAU) and high user inconsistency.</p>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-4 text-gray-700">MAU vs. DAU Growth (Jan - Jun 2025)</h3>
                    <p class="text-sm text-gray-500 mb-4">While MAU shows healthy growth, DAU remains relatively flat, widening the engagement gap. The goal is to lift DAU from 15.6M to 20M.</p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="mauDauChart"></canvas>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md flex flex-col justify-center">
                    <h3 class="font-bold text-xl mb-4 text-gray-700">User Consistency Breakdown</h3>
                    <p class="text-sm text-gray-500 mb-4">A significant portion of the user base is inconsistent, failing to open the app at least once in a six-month period. This represents a major churn risk and growth opportunity.</p>
                    <div class="chart-container h-64 md:h-72">
                        <canvas id="userConsistencyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <section id="competition" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">‚öîÔ∏è The Competitive Landscape</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">The battle for user attention is fierce. Competitors like GoTo and Grab have evolved beyond simple points systems, creating powerful ecosystems with integrated currencies and subscription models. Click on a competitor to see how their strategy compares.</p>
            <div class="bg-white p-6 rounded-xl shadow-md">
                <div class="overflow-x-auto">
                    <table id="competitionTable" class="w-full text-left">
                        <thead>
                            <tr class="border-b-2 border-gray-200">
                                <th class="p-4 font-semibold">Feature</th>
                                <th class="p-4 font-semibold cursor-pointer" data-competitor="mytelkomsel">MyTelkomsel</th>
                                <th class="p-4 font-semibold cursor-pointer" data-competitor="goto">GoTo</th>
                                <th class="p-4 font-semibold cursor-pointer" data-competitor="grab">Grab</th>
                                <th class="p-4 font-semibold cursor-pointer" data-competitor="shopee">Shopee</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-gray-100">
                                <td class="p-4 font-medium">Program Type</td>
                                <td class="p-4" data-competitor="mytelkomsel">Points & Gamification</td>
                                <td class="p-4" data-competitor="goto">Ecosystem Currency</td>
                                <td class="p-4" data-competitor="grab">Hybrid: Points + Subscription</td>
                                <td class="p-4" data-competitor="shopee">Tiered, Points-based</td>
                            </tr>
                            <tr class="border-b border-gray-100">
                                <td class="p-4 font-medium">Key Benefit</td>
                                <td class="p-4" data-competitor="mytelkomsel">Data Packages</td>
                                <td class="p-4" data-competitor="goto">Direct Discounts</td>
                                <td class="p-4" data-competitor="grab">Free Delivery & Discounts</td>
                                <td class="p-4" data-competitor="shopee">Vouchers & Free Shipping</td>
                            </tr>
                            <tr class="border-b border-gray-100">
                                <td class="p-4 font-medium">Strategic Focus</td>
                                <td class="p-4" data-competitor="mytelkomsel">Driving Telco Transactions</td>
                                <td class="p-4" data-competitor="goto">Ecosystem Lock-in</td>
                                <td class="p-4" data-competitor="grab">High-Value User Subscription</td>
                                <td class="p-4" data-competitor="shopee">E-commerce Frequency</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="competitorSummary" class="mt-6 p-4 bg-red-50 rounded-lg border border-red-200 hidden">
                    <h4 id="summaryTitle" class="font-bold text-red-800 mb-2"></h4>
                    <p id="summaryText" class="text-red-700"></p>
                </div>
            </div>
        </section>

        <section id="solution" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">üí° The Flywheel Solution</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">To break the engagement plateau, we propose the MyTelkomsel Flywheel: a self-reinforcing system of three interconnected initiatives. Hover over each segment to explore how it contributes to creating a virtuous cycle of user engagement, retention, and growth.</p>
            <div class="relative w-full max-w-4xl mx-auto flex items-center justify-center" style="height: 600px;">
                <div class="absolute text-center">
                    <div class="w-48 h-48 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-xl shadow-2xl">
                        MyTelkomsel Flywheel
                    </div>
                </div>
                <div class="flywheel-segment absolute top-0 left-1/2 -translate-x-1/2 -mt-8 w-64 p-6 bg-white rounded-xl shadow-lg text-center" data-text="A hyper-personalized, AI-driven gamification engine that transforms app exploration into a rewarding daily activity through challenges and narrative quests.">
                    <h3 class="font-bold text-lg text-gray-800">1. Telkomsel Quests</h3>
                    <p class="text-sm text-gray-600">Engage & Explore</p>
                </div>
                <div class="flywheel-segment absolute bottom-0 left-1/4 -translate-x-1/2 w-64 p-6 bg-white rounded-xl shadow-lg text-center" data-text="A revitalized, community-powered loyalty program that rewards both transactional and non-transactional engagement with tangible benefits and social status.">
                    <h3 class="font-bold text-lg text-gray-800">2. Telkomsel Circle</h3>
                    <p class="text-sm text-gray-600">Reward & Connect</p>
                </div>
                <div class="flywheel-segment absolute bottom-0 right-1/4 translate-x-1/2 w-64 p-6 bg-white rounded-xl shadow-lg text-center" data-text="An AI-powered system that uses predictive analytics to identify at-risk users and deploy targeted, personalized interventions to prevent churn.">
                    <h3 class="font-bold text-lg text-gray-800">3. Proactive Retention</h3>
                    <p class="text-sm text-gray-600">Predict & Retain</p>
                </div>
                <div id="flywheel-info" class="absolute bottom-1/4 w-full text-center p-4">
                    <p class="text-gray-700 font-medium text-lg transition-opacity duration-300 opacity-0"></p>
                </div>
            </div>
        </section>

        <section id="roadmap" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">üó∫Ô∏è 12-Month Implementation Roadmap</h2>
            <p class="text-lg text-gray-600 mb-12 max-w-4xl">A phased, 12-month rollout ensures a smooth implementation, allowing for iterative feedback and risk management. Click on each phase to see the key activities and objectives.</p>
            <div class="relative w-full">
                <div class="border-l-4 border-gray-200 ml-6">
                    <div class="timeline-item mb-12 pl-12 relative" data-phase="1">
                        <div class="timeline-dot absolute -left-2.5 top-1 w-5 h-5 bg-gray-300 rounded-full transition-all duration-300"></div>
                        <div class="timeline-content p-6 bg-white rounded-xl shadow-md border-l-4 border-gray-300 transition-all duration-300">
                            <h3 class="text-xl font-bold text-gray-800">Phase 1: Foundation & Design (Q1)</h3>
                            <p class="text-gray-600 mt-2 hidden">Finalize UX/UI designs, architect the new 'Telkomsel Points' backend, and begin development of core gamification features like daily check-ins.</p>
                        </div>
                    </div>
                    <div class="timeline-item mb-12 pl-12 relative" data-phase="2">
                        <div class="timeline-dot absolute -left-2.5 top-1 w-5 h-5 bg-gray-300 rounded-full transition-all duration-300"></div>
                        <div class="timeline-content p-6 bg-white rounded-xl shadow-md border-l-4 border-gray-300 transition-all duration-300">
                            <h3 class="text-xl font-bold text-gray-800">Phase 2: Alpha & Core Development (Q2)</h3>
                            <p class="text-gray-600 mt-2 hidden">Complete personalized challenges and community hub features. Begin training the churn prediction model and conduct internal alpha testing.</p>
                        </div>
                    </div>
                    <div class="timeline-item mb-12 pl-12 relative" data-phase="3">
                        <div class="timeline-dot absolute -left-2.5 top-1 w-5 h-5 bg-gray-300 rounded-full transition-all duration-300"></div>
                        <div class="timeline-content p-6 bg-white rounded-xl shadow-md border-l-4 border-gray-300 transition-all duration-300">
                            <h3 class="text-xl font-bold text-gray-800">Phase 3: Beta Launch & Refinement (Q3)</h3>
                            <p class="text-gray-600 mt-2 hidden">Launch a closed beta to select users, gather real-world feedback, and validate the churn model's accuracy in a passive monitoring mode.</p>
                        </div>
                    </div>
                    <div class="timeline-item pl-12 relative" data-phase="4">
                        <div class="timeline-dot absolute -left-2.5 top-1 w-5 h-5 bg-gray-300 rounded-full transition-all duration-300"></div>
                        <div class="timeline-content p-6 bg-white rounded-xl shadow-md border-l-4 border-gray-300 transition-all duration-300">
                            <h3 class="text-xl font-bold text-gray-800">Phase 4: Full Launch & Marketing (Q4)</h3>
                            <p class="text-gray-600 mt-2 hidden">Roll out all features to the public, execute a major marketing campaign, and fully activate the Proactive Retention Engine.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="financials" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">üí∞ Financial Impact & Projections</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">This strategic investment is projected to yield substantial returns, primarily by reducing user churn and increasing Customer Lifetime Value. The analysis shows a highly positive ROI, demonstrating the financial viability of the Flywheel strategy.</p>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-md">
                    <h3 class="font-bold text-xl mb-4 text-gray-700">3-Year Projected Incremental Revenue vs. Investment</h3>
                    <p class="text-sm text-gray-500 mb-4">The revenue generated from retaining users far outweighs the initial and ongoing investment costs.</p>
                    <div class="chart-container h-80 md:h-96">
                        <canvas id="roiChart"></canvas>
                    </div>
                </div>
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-xl shadow-md text-center">
                        <h4 class="text-lg font-semibold text-gray-600">Total 3-Year Investment</h4>
                        <p class="text-4xl font-bold text-red-600 mt-2">$1.07M</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md text-center">
                        <h4 class="text-lg font-semibold text-gray-600">Total 3-Year Incremental Revenue</h4>
                        <p class="text-4xl font-bold text-green-600 mt-2">$161.28M</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md text-center">
                        <h4 class="text-lg font-semibold text-gray-600">Projected 3-Year ROI</h4>
                        <p class="text-4xl font-bold text-blue-600 mt-2">~15,043%</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="kpis" class="min-h-screen pt-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">üìä KPI Dashboard</h2>
            <p class="text-lg text-gray-600 mb-8 max-w-4xl">Success will be measured through a comprehensive dashboard tracking key performance indicators across the entire flywheel. This allows for continuous optimization and data-driven decision-making.</p>
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">DAU/MAU Ratio</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">24.0%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Baseline: 22.2%</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Monthly Churn Rate</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">&lt;8.5%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Baseline: ~10%</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">User Consistency</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">82.0%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Baseline: 78.7%</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Avg. User Streak</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">5 Days</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Quest Engagement</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Community Active Users</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">2M</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Circle Engagement</p>
                </div>
                <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Churn Prediction Accuracy</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">&gt;85%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Retention Engine</p>
                </div>
                 <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Re-engagement Rate</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">&gt;20%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Retention Engine</p>
                </div>
                 <div class="kpi-card bg-white p-6 rounded-xl shadow-md">
                    <h4 class="font-semibold text-gray-600">Tier Progression</h4>
                    <p class="text-3xl font-bold text-gray-800 mt-2">15%</p>
                    <p class="text-sm text-green-600 font-medium">Target (Y1)</p>
                    <p class="text-xs text-gray-500 mt-1">Bronze to Silver</p>
                </div>
            </div>
        </section>
    </main>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const sections = document.querySelectorAll('main section');
    const navLinks = document.querySelectorAll('.nav-link');

    const observerOptions = {
        root: null,
        rootMargin: '0px',
        threshold: 0.4
    };

    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, observerOptions);

    sections.forEach(section => {
        observer.observe(section);
    });
    
    navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelector(link.getAttribute('href')).scrollIntoView({
                behavior: 'smooth'
            });
        });
    });

    const mauDauData = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
        datasets: [{
            label: 'Monthly Active Users (MAU)',
            data: [63.8, 65.2, 66.5, 68.1, 69.5, 70.3],
            borderColor: '#3B82F6',
            backgroundColor: '#3B82F6',
            type: 'line',
            tension: 0.4,
            yAxisID: 'y'
        }, {
            label: 'Daily Active Users (DAU)',
            data: [14.1, 14.5, 14.8, 15.0, 15.3, 15.6],
            backgroundColor: '#F87171',
            borderColor: '#F87171',
            type: 'bar',
            yAxisID: 'y'
        }]
    };

    const mauDauChartCtx = document.getElementById('mauDauChart').getContext('2d');
    new Chart(mauDauChartCtx, {
        type: 'bar',
        data: mauDauData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                title: { display: false },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `${context.dataset.label}: ${context.formattedValue} Mn`;
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Users (in Millions)'
                    }
                }
            }
        }
    });

    const userConsistencyData = {
        labels: ['Consistent MAU', 'Inconsistent MAU'],
        datasets: [{
            label: 'User Breakdown',
            data: [55.3, 15.0],
            backgroundColor: ['#10B981', '#F59E0B'],
            hoverOffset: 4
        }]
    };

    const userConsistencyCtx = document.getElementById('userConsistencyChart').getContext('2d');
    new Chart(userConsistencyCtx, {
        type: 'doughnut',
        data: userConsistencyData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    position: 'bottom',
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0);
                            const value = context.raw;
                            const percentage = ((value / total) * 100).toFixed(1);
                            return `${context.label}: ${value} Mn (${percentage}%)`;
                        }
                    }
                }
            }
        }
    });

    const competitionTable = document.getElementById('competitionTable');
    const competitorSummary = document.getElementById('competitorSummary');
    const summaryTitle = document.getElementById('summaryTitle');
    const summaryText = document.getElementById('summaryText');
    const summaries = {
        mytelkomsel: { title: 'MyTelkomsel Strategy', text: 'Focuses on driving core telco transactions through a traditional points system and simple gamification. Lacks the ecosystem depth of competitors.' },
        goto: { title: 'GoTo Strategy', text: 'Pioneered the "Ecosystem Currency" with GoPay Coins, creating high utility and lock-in across ride-hailing and e-commerce.' },
        grab: { title: 'Grab Strategy', text: 'Employs a powerful "Subscription-as-Loyalty" model with GrabUnlimited to secure high-value users and foster habit through sunk-cost psychology.' },
        shopee: { title: 'Shopee Strategy', text: 'Deeply integrates loyalty into the e-commerce loop, using coins to incentivize purchases, reviews, and daily in-app game engagement.' }
    };

    competitionTable.addEventListener('click', function(e) {
        if (e.target.tagName === 'TH') {
            const competitor = e.target.dataset.competitor;
            if (competitor) {
                document.querySelectorAll('#competitionTable th, #competitionTable td').forEach(el => el.style.backgroundColor = '');
                document.querySelectorAll(`[data-competitor="${competitor}"]`).forEach(el => el.style.backgroundColor = '#FEE2E2');
                
                summaryTitle.textContent = summaries[competitor].title;
                summaryText.textContent = summaries[competitor].text;
                competitorSummary.classList.remove('hidden');
            }
        }
    });

    const flywheelSegments = document.querySelectorAll('.flywheel-segment');
    const flywheelInfo = document.querySelector('#flywheel-info p');
    flywheelSegments.forEach(segment => {
        segment.addEventListener('mouseenter', function() {
            flywheelInfo.textContent = this.dataset.text;
            flywheelInfo.classList.remove('opacity-0');
        });
        segment.addEventListener('mouseleave', function() {
            flywheelInfo.classList.add('opacity-0');
        });
    });

    const timelineItems = document.querySelectorAll('.timeline-item');
    timelineItems.forEach(item => {
        item.addEventListener('click', function() {
            const currentActive = document.querySelector('.timeline-item.active');
            if (currentActive && currentActive !== this) {
                currentActive.classList.remove('active');
                currentActive.querySelector('p').classList.add('hidden');
            }
            this.classList.toggle('active');
            this.querySelector('p').classList.toggle('hidden');
        });
    });
    // Activate first timeline item by default
    const firstTimelineItem = timelineItems[0];
    firstTimelineItem.classList.add('active');
    firstTimelineItem.querySelector('p').classList.remove('hidden');


    const roiData = {
        labels: ['Year 1', 'Year 2', 'Year 3'],
        datasets: [{
            label: 'Total Investment',
            data: [0.825, 0.120, 0.120],
            backgroundColor: '#EF4444',
        }, {
            label: 'Incremental Revenue',
            data: [17.6, 63.0, 80.6],
            backgroundColor: '#22C55E',
        }]
    };

    const roiChartCtx = document.getElementById('roiChart').getContext('2d');
    new Chart(roiChartCtx, {
        type: 'bar',
        data: roiData,
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `${context.dataset.label}: $${context.formattedValue}M`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    stacked: false,
                },
                y: {
                    stacked: false,
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Amount (in Millions USD)'
                    }
                }
            }
        }
    });
});
</script>
</body>
</html>
